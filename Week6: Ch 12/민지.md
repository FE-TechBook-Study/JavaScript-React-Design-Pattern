# ë¯¼ì§€

# 1201 (ì¼)

## **1. React.FC**

### FC ?

`Function Component`Â íƒ€ì…ì˜ ì¤„ì„ë§ë¡œ, React + Typescript ì¡°í•©ìœ¼ë¡œ ê°œë°œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ì‹œ íƒ€ì… ì„ ì–¸ì— ì“¸ ìˆ˜ ìˆë„ë¡ Reactì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.

**React.FCì˜ ì‚¬ìš©**

```jsx
import { FC } from 'react'

interface Props {
    name: string
}

const Foo: FC<Props> = ({ name }) => {
    return (
        ...
    )
}
```

`React.FC`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´Â `props`ì˜ íƒ€ì…ì„Â `Generics`ìœ¼ë¡œ ë„£ì–´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

**React.FC ì‚¬ìš©ì„ ì§€ì–‘í•´ì•¼ í•˜ëŠ” ì´ìœ ?**

**1. children**

`FC`ë¥¼ ì´ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ propsëŠ” typeì´Â `ReactNode`ì¸Â `children`ì„ ì•”ì‹œì ìœ¼ë¡œ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.

```jsx
const App: React.FC = () => {
  return <div>hi</div>
}

const Example = () => {
  return (
    <App>
      <div>Unwanted children</div>
    </App>
  )
}
```

ìœ„ ì½”ë“œë¥¼ ë³´ê²Œ ë˜ë©´Â `<App />`Â ì»´í¬ë„ŒíŠ¸ì—ì„œÂ `children`ì„ ë‹¤ë£¨ê³  ìˆì§€ ì•ŠìŒì—ë„Â `Example`ì—ì„œÂ `children`ì„ ë„˜ê²¨ì£¼ê³  ìˆìœ¼ë©°, ì–´ë–¤ ëŸ°íƒ€ì„ ì—ëŸ¬ë„ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì •í™•í•œ íƒ€ì…ì„ ì§€ì •ì„ í•´ì£¼ë©° ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì˜ ì•ˆì „ì„±ì„ í–¥ìƒ ì‹œí‚¤ëŠ” ë¶€ë¶„ì¸ë°Â `FC`ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì—Â `children`ì´ ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ê°€ì •í•˜ì—¬ ì–¸ì œë“ ì§€Â `children`ì˜ íƒ€ì… ì§€ì • ì—†ì´ ì „ë‹¬ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— **íƒ€ì…ì´ ëª…í™•í•˜ì§€ ì•Šë‹¤ëŠ” ë‹¨ì **ì´ ìˆìŠµë‹ˆë‹¤.

**ğŸ‘ 18 ë²„ì „ì—ì„œëŠ” ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤**

React 18 ì—…ë°ì´íŠ¸ë¡œ,Â `FC`ì˜ ì•”ì‹œì ì¸Â `children`ì´Â **ì‚­ì œ**ë˜ì—ˆìŠµë‹ˆë‹¤. [PR](https://github.com/DefinitelyTyped/DefinitelyTyped/pull/56210)

---

## **2. ReactNode**

`ReactNode`ëŠ”Â `children`Â ì†ì„±ì˜ íƒ€ì…ìœ¼ë¡œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ì´ê¸°ë„ í•©ë‹ˆë‹¤.

```tsx
import { ReactNode } from 'react'

interface Props {
  children: ReactNode
}

const Component: FC<Props> = ({ children }) => {
  return <div>{children}</div>}
```

```tsx
type ReactNode =
  | ReactElement
  | string
  | number
  | Iterable<ReactNode>
  | ReactPortal
  | boolean
  | null
  | undefined
```

`ReactNode`Â íƒ€ì…ì€Â `jsx`Â ë‚´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ìš”ì†Œì˜ íƒ€ì…ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¦‰Â `string`,Â `null`,Â `undefined`Â ë“±ì„ í¬í•¨í•˜ëŠ”Â **ê°€ì¥ ë„“ì€ ë²”ìœ„**ë¥¼ ê°–ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.

```tsx
const node1: React.ReactNode = <div />
const node2: React.ReactNode = 'hello world'
const node3: React.ReactNode = 123
const node4: React.ReactNode = undefined
const node5: React.ReactNode = null
```

---

## **3. ReactElement**

`ReactElement`ëŠ”Â `ReactNode`ì— í¬í•¨ë˜ì–´ ìˆëŠ” íƒ€ì…ì…ë‹ˆë‹¤.

```tsx
interface ReactElement<
  P = any,
  T extends string | JSXElementConstructor<any> =
    | string
    | JSXElementConstructor<any>
> {
  type: T
  props: P
  key: Key | null
}
```

`ReactElement`Â ëŠ”Â `createElement`Â í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±ëœ ê°ì²´ì˜ íƒ€ì…ì…ë‹ˆë‹¤.Â `ReactNode` ì™€ ë‹¬ë¦¬Â **ì›ì‹œíƒ€ì…ì„ í¬í•¨í•˜ì§€ ì•Šê³  ì™„ì„±ëœÂ `jsx`Â ìš”ì†Œë§Œì„ í—ˆìš©**í•©ë‹ˆë‹¤.

![image.png](1201%20(%E1%84%8B%E1%85%B5%E1%86%AF)%2014fdea0778cb8037b516e5b9145adca7/image.png)

ë”°ë¼ì„œÂ **`jsx`Â ìš”ì†Œë¥¼ ë¦¬í„´í•˜ëŠ”Â `children`ì— ëŒ€í•´ì„œëŠ”**Â `ReactElement`ì„ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•´ ì£¼ì–´ë„ ì „í˜€ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.

```tsx
import { ReactElement } from 'react'

interface Props {
  children: ReactElement
}

const Component: FC<Props> = ({ children }) => {
  return <div>{children}</div>}
```

---

## **4. PropsWithChildren**

`PropsWithChildren`íƒ€ì…ì€ ë§ ê·¸ëŒ€ë¡œÂ **`children`ì„ ê°€ì§„Â `props`Â íƒ€ì…**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

```tsx
import { PropsWithChildren } from 'react';  
  
type MyComponentProps = PropsWithChildren<{  
  title: string;  
}>;  
  
function MyComponent(props: MyComponentProps) {  
  const { title, children } = props;  
  
  return (  
    <div>  
      <p>{title}</p>  
      {children}  
    </div>  
  );  
}  
  
export default MyComponent; 
```

```tsx
type PropsWithChildren<P = unknown> = P & { children?: ReactNode | undefined }
```

`PropsWithChildren`ì˜Â `children`Â íƒ€ì…ì´Â **ì˜µì…”ë„**ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`PropsWithChildren` ë˜í•œ React.FCì²˜ëŸ¼ `children`ì„ ë„˜ê²¨ì£¼ì§€ ì•Šì•„ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì˜ë„í•˜ì§€ ì•Šì€ ë™ì‘ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

```
useRefì—ëŠ” 3ê°€ì§€ ì˜¤ë²„ë¡œë”©ì´ ì¡´ì¬ (@types/react)

1. useRef<T>(initialValue: T): MutableRefObject<T>
2. useRef<T>(initialValue: T | null): RefObject<T>
3. useRef<T = undefined>(): MutableRefObject<T | undefined>
```

1. ì œë„¤ë¦­ íƒ€ì…ê³¼Â `initialValue`ì˜ íƒ€ì…ì´Â `T`ë¡œ ì¼ì¹˜í•˜ëŠ” ê²½ìš°,Â `MutableRefObject<T>`ë¥¼ ë°˜í™˜í•œë‹¤. 
2. `initialValue`ì˜ íƒ€ì…ì´ nullì„ í—ˆìš©í•˜ëŠ” ê²½ìš°,Â `RefObject<T>`ë¥¼ ë°˜í™˜í•œë‹¤. 
3. ì œë„¤ë¦­ íƒ€ì…ì´Â `undefined`ì¸ ê²½ìš°(íƒ€ì…ì„ ì œê³µí•˜ì§€ ì•Šì€ ê²½ìš°),Â `MutableRefObject<T | undefined>`ë¥¼ ë°˜í™˜í•œë‹¤.

## **RefObject**

```tsx
interface RefObject<T> {
    readonly current: T | null;
}
```

- **RefObjectëŠ”** ref ê°ì²´ì˜Â **`.current`Â í”„ë¡œí¼í‹° ê°’ì„ ì§ì ‘ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-12-01 á„‹á…©á„’á…® 2.52.17.png](1201%20(%E1%84%8B%E1%85%B5%E1%86%AF)%2014fdea0778cb8037b516e5b9145adca7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-12-01_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.52.17.png)
    

ê·¸ëŸ¼ ì–´ë–¤ ìƒí™©ì— ì‚¬ìš©í•´ì•¼í•˜ë‚˜ìš” ğŸ¤”

â†’ DOM ìš”ì†Œë¥¼ ì°¸ì¡°í•˜ê³  ì‹¶ì€ ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤. DOM ìš”ì†Œì— refë¥¼ ì—°ê²°í•˜ê³  ì‹¶ë‹¤ë©´ readonlyì¸ RefObjectë§Œì„ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ DOM ìš”ì†Œì— MutableRefObjectí•œ refë¥¼ í• ë‹¹í•  ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.

![image.png](1201%20(%E1%84%8B%E1%85%B5%E1%86%AF)%2014fdea0778cb8037b516e5b9145adca7/image%201.png)

---

## **MutableRefObject**

```tsx
interface MutableRefObject<T> {
    current: T;
}
```

- **RefObjectëŠ”** ref ê°ì²´ì˜Â **`.current`Â í”„ë¡œí¼í‹° ê°’ì„ ì§ì ‘ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**
- useRefë¥¼ ë¡œì»¬ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## **SetStateAction**

- Reactì˜ ìƒíƒœ ê´€ë¦¬ì—ì„œ **ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ê°’ ë˜ëŠ” í•¨ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…**

```tsx
type SetStateAction<S> = S | ((prevState: S) => S);
```

1. S
    - S ìì²´ê°€ ì§ì ‘ì ì¸ ì—…ë°ì´íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - `setState(value)`Â ì²˜ëŸ¼ ê°’ì´ ì§ì ‘ ë³€ê²½ë˜ëŠ” ê²½ìš°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
2. ((prevState: S) => S)
    - ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
    - ì´ì „ ìƒíƒœì¸ prevStateë¥¼ ì¸ìë¡œ ë°›ì•„ ìƒˆë¡œìš´ ìƒíƒœ Së¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    - `setState((prev) => !prev)`Â ì™€ ê°™ì€ ê²½ìš° ì‚¬ìš©ë©ë‹ˆë‹¤.

```tsx
interface Props {
  setData: Dispatch<SetStateAction<string>>
}
```

í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë°©ì‹ê³¼ëŠ” ì–´ë–¤ ì°¨ì´ì ì´ ìˆì„ê¹Œ ğŸ¤”

```tsx
//í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜
interface ModalProps {
  setIsModalOpen: (isOpen: boolean) => void; 
}
 
// setState
interface ModalProps {
  setIsModalOpen: React.Dispatch<React.SetStateAction<boolean>>
}
```

1. í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜
    - `setIsModalOpen`ì€ ë‹¨ìˆœíˆ `boolean`ê°’ì„ ì¸ìˆ˜ë¡œ ë°›ê³ , ì•„ë¬´ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
    - React ìƒíƒœ ê´€ë¦¬ì™€ ì§ì ‘ ì—°ê²°ë˜ì§€ ì•Šìœ¼ë©°, ë‹¨ìˆœí•œ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë§Œ ì •ì˜í•©ë‹ˆë‹¤.
    - í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ìƒíƒœ ë³€ê²½ ì™¸ ì¶”ê°€ ë¡œì§ì„ ì²˜ë¦¬í•´ì•¼í•  ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.
    - í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ê°€ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì´ì „ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶”ê°€ì ì¸ ë¡œì§ì´ í•„ìš”í•©ë‹ˆë‹¤.
2. setStateAction
    - `setIsModalOpen`ì€ Reactì—ì„œ ë°˜í™˜ë˜ëŠ” `dispatch` í•¨ìˆ˜ì™€ ë™ì¼í•œ íƒ€ì…ì…ë‹ˆë‹¤.
    - `SetStateAction<boolean>`ì„ í†µí•´ ìƒíƒœë¥¼ **ê°’**ìœ¼ë¡œ ì„¤ì •í•˜ê±°ë‚˜, **í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ì „ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆ ìƒíƒœë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - í˜„ì¬ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆ ê°’ì„ ê³„ì‚°í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•  ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.

---
